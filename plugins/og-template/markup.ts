import { html } from 'satori-html'
import backgroundBase64 from './base64'

import type { BgType } from '../../src/types'

export const ogImageMarkup = (
  _authorOrBrand: string,
  title: string,
  bgType: BgType
) => {
  if (!['plum', 'dot', 'rose', 'particle'].includes(bgType))
    throw new Error(
      "The value of 'bgType' must be one of the following: 'plum', 'dot', 'rose', 'particle'."
    )

  return html`<div
    tw="relative flex justify-center items-center w-full h-full"
    style="font-family: 'Noto Sans SC, sans-serif';"
  >
    <img
      tw="absolute inset-0 w-full h-full"
      src="${backgroundBase64[bgType]}"
      alt="open graph"
    />

    <div tw="flex items-center justify-start w-full px-18" style="gap: 20px">
      <div tw="flex flex-col" style="gap: 10px">
        <svg
          width="7.5rem"
          height="2.5rem"
          viewBox="0 0 237 82"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <g id="svgGroup" class="dark:fill-[#fdfdfd]" fill="#fdfdfd">
            <path
              vector-effect="non-scaling-stroke"
              d="M29.696 12.928C28.5867 14.5493 27.3493 16.5973 25.984 19.072C24.6187 21.5467 23.3387 23.936 22.144 26.24C21.0347 28.544 20.1813 30.2933 19.584 31.488H31.36C31.36 31.8293 31.1893 32.384 30.848 33.152C30.592 33.92 30.0373 34.4747 29.184 34.816H18.048C17.024 37.12 15.8293 39.8933 14.464 43.136C13.184 46.3787 11.904 49.7493 10.624 53.248C9.42934 56.7467 8.40534 60.032 7.55201 63.104C6.78401 66.0907 6.40001 68.5227 6.40001 70.4C6.40001 72.96 6.74134 74.88 7.42401 76.16C8.10668 77.3547 9.34401 77.952 11.136 77.952C13.44 77.952 15.6587 76.8427 17.792 74.624C19.9253 72.32 21.9307 69.4613 23.808 66.048C25.7707 62.6347 27.4773 59.2213 28.928 55.808C29.952 55.808 30.464 56.192 30.464 56.96C29.5253 59.264 28.3733 61.7813 27.008 64.512C25.6427 67.2427 24.064 69.888 22.272 72.448C20.5653 74.9227 18.6027 76.9707 16.384 78.592C14.2507 80.128 11.8613 80.896 9.21601 80.896C5.63201 80.896 3.20001 79.9147 1.92001 77.952C0.640011 75.904 1.04904e-05 73.3013 1.04904e-05 70.144C1.04904e-05 67.84 0.426677 65.0667 1.28001 61.824C2.13334 58.496 3.15734 55.0827 4.35201 51.584C5.63201 48.0853 6.86934 44.8427 8.06401 41.856C9.25868 38.784 10.1973 36.4373 10.88 34.816H2.68801C2.68801 34.1333 2.98668 33.408 3.58401 32.64C4.18134 31.872 4.82134 31.488 5.50401 31.488H12.288C12.9707 30.1227 13.7387 28.416 14.592 26.368C15.5307 24.32 16.768 22.0587 18.304 19.584C19.584 17.536 21.2053 15.9147 23.168 14.72C25.216 13.5253 27.392 12.928 29.696 12.928ZM32.534 80.512C29.3767 80.512 27.158 79.616 25.878 77.824C24.598 75.9467 23.958 73.8133 23.958 71.424C23.958 70.144 24.086 68.864 24.342 67.584C24.6833 66.2187 25.0673 64.9813 25.494 63.872L34.07 41.984C34.326 41.3013 34.454 40.704 34.454 40.192C34.454 39.3387 34.2407 38.6133 33.814 38.016C33.3873 37.3333 33.0887 36.864 32.918 36.608L39.958 36.352C41.238 36.2667 42.134 36.4373 42.646 36.864C43.2433 37.2053 43.542 37.632 43.542 38.144C43.542 38.656 43.2433 39.5947 42.646 40.96C41.7927 43.008 40.6407 45.568 39.19 48.64C37.7393 51.712 36.2887 54.8693 34.838 58.112C33.4727 61.3547 32.278 64.384 31.254 67.2C30.3153 70.016 29.846 72.192 29.846 73.728C29.846 74.8373 30.102 75.776 30.614 76.544C31.2113 77.312 32.1927 77.696 33.558 77.696C35.35 77.696 37.0993 77.0133 38.806 75.648C40.598 74.1973 42.262 72.3627 43.798 70.144C45.334 67.9253 46.742 65.536 48.022 62.976C49.3873 60.416 50.5393 58.0267 51.478 55.808C52.502 55.808 53.014 56.192 53.014 56.96C52.1607 59.0933 51.0513 61.5253 49.686 64.256C48.3207 66.9867 46.742 69.5893 44.95 72.064C43.2433 74.4533 41.3233 76.4587 39.19 78.08C37.142 79.7013 34.9233 80.512 32.534 80.512ZM43.926 28.416C42.8167 28.416 41.8353 27.9893 40.982 27.136C40.214 26.2827 39.83 25.2587 39.83 24.064C39.83 22.6133 40.4273 21.3333 41.622 20.224C42.8167 19.0293 44.1393 18.432 45.59 18.432C46.7847 18.432 47.8087 18.816 48.662 19.584C49.5153 20.352 49.942 21.3333 49.942 22.528C49.942 24.064 49.3447 25.4293 48.15 26.624C46.9553 27.8187 45.5473 28.416 43.926 28.416ZM39.034 81.152C42.1913 75.0933 45.178 69.0347 47.994 62.976C50.81 56.832 53.6687 51.0293 56.57 45.568C58.2767 42.496 59.6847 40.3627 60.794 39.168C61.9887 37.888 63.5673 37.248 65.53 37.248C66.2127 37.248 66.938 37.376 67.706 37.632C68.474 37.8027 69.242 37.888 70.01 37.888C70.522 37.888 70.906 37.8453 71.162 37.76C69.9673 38.4427 68.4313 40.1493 66.554 42.88C64.6767 45.5253 62.7567 48.5973 60.794 52.096C58.8313 55.5947 57.082 58.88 55.546 61.952C57.1673 59.9893 58.8313 58.0267 60.538 56.064C62.33 54.1013 64.2927 52.224 66.426 50.432C68.3033 48.8107 70.266 47.0613 72.314 45.184C74.4473 43.2213 76.538 41.5573 78.586 40.192C80.634 38.8267 82.426 38.144 83.962 38.144C84.5593 38.144 84.9433 38.1867 85.114 38.272C86.7353 38.9547 87.546 40.064 87.546 41.6C87.546 42.112 87.3327 42.88 86.906 43.904C85.7967 46.8053 84.346 49.792 82.554 52.864C80.8473 55.8507 79.226 58.88 77.69 61.952C78.97 60.416 80.5487 58.5387 82.426 56.32C84.3887 54.1013 86.3513 52.1387 88.314 50.432C90.1913 48.7253 92.5807 46.9333 95.482 45.056C98.3833 43.1787 101.242 41.5573 104.058 40.192C106.874 38.8267 109.135 38.144 110.842 38.144C111.439 38.144 111.866 38.1867 112.122 38.272C112.122 38.272 111.653 39.1253 110.714 40.832C109.775 42.4533 108.581 44.6293 107.13 47.36C105.765 50.0053 104.357 52.864 102.906 55.936C101.455 58.9227 100.133 61.824 98.938 64.64C97.8287 67.3707 97.1033 69.6747 96.762 71.552C96.506 72.6613 96.378 73.6853 96.378 74.624C96.378 75.9893 96.634 76.8853 97.146 77.312C97.658 77.7387 98.2127 77.952 98.81 77.952C100.517 77.952 102.181 77.2267 103.802 75.776C105.509 74.3253 107.173 72.4907 108.794 70.272C110.415 67.968 111.866 65.536 113.146 62.976C114.511 60.416 115.663 58.0267 116.602 55.808C117.626 55.808 118.138 56.192 118.138 56.96C117.199 59.264 116.005 61.824 114.554 64.64C113.189 67.3707 111.61 69.9733 109.818 72.448C108.026 74.9227 106.063 76.9707 103.93 78.592C101.797 80.2133 99.4927 81.024 97.018 81.024C95.226 81.024 93.5193 80.4267 91.898 79.232C90.362 78.0373 89.594 75.8187 89.594 72.576C89.594 69.0773 90.4047 65.5787 92.026 62.08C93.7327 58.5813 95.482 55.3813 97.274 52.48C98.1273 51.0293 98.554 49.8773 98.554 49.024C98.554 48 98.042 47.488 97.018 47.488C96.1647 47.488 94.97 47.9147 93.434 48.768C91.9833 49.6213 90.1487 51.1147 87.93 53.248C86.5647 54.528 84.9433 56.32 83.066 58.624C81.274 60.8427 79.4393 63.2747 77.562 65.92C75.6847 68.5653 74.0633 71.168 72.698 73.728C71.3327 76.288 70.4367 78.5493 70.01 80.512C68.73 80.512 67.706 80 66.938 78.976C66.17 77.8667 65.786 76.5867 65.786 75.136C65.786 74.88 65.786 74.624 65.786 74.368C65.786 74.112 65.8287 73.8133 65.914 73.472C66.3407 70.8267 67.0233 68.608 67.962 66.816C68.9007 64.9387 69.9673 62.7627 71.162 60.288C71.7593 59.1787 72.442 57.8987 73.21 56.448C73.978 54.912 74.6607 53.4613 75.258 52.096C75.8553 50.6453 76.154 49.4507 76.154 48.512C76.154 47.6587 75.8127 47.232 75.13 47.232C74.362 47.232 73.338 47.616 72.058 48.384C70.8633 49.152 69.7113 50.048 68.602 51.072C67.4927 52.0107 66.6393 52.736 66.042 53.248C63.9087 55.296 61.306 58.24 58.234 62.08C55.2473 65.92 51.962 71.3813 48.378 78.464C47.866 79.4027 47.2687 80 46.586 80.256C45.9033 80.4267 44.8367 80.512 43.386 80.512C42.4473 80.512 41.6793 80.512 41.082 80.512C40.3993 80.5973 39.7167 80.8107 39.034 81.152ZM122.591 80.896C119.434 80.896 117.087 79.9573 115.551 78.08C114.1 76.1173 113.375 73.8133 113.375 71.168C113.375 68.4373 113.759 65.6213 114.527 62.72C115.295 59.8187 115.978 57.3867 116.575 55.424C117.94 50.6453 119.647 45.568 121.695 40.192C123.828 34.7307 126.132 29.3973 128.607 24.192C131.167 18.9013 133.684 14.1653 136.159 9.98399C138.122 6.65599 140.212 4.18132 142.431 2.55999C144.735 0.853325 146.74 -7.62939e-06 148.447 -7.62939e-06C149.812 -7.62939e-06 150.879 0.511991 151.647 1.53599C152.5 2.47466 152.927 3.92533 152.927 5.88799C152.927 7.25332 152.671 8.87466 152.159 10.752C151.732 12.6293 150.964 14.7627 149.855 17.152C146.868 23.808 143.284 30.464 139.103 37.12C135.007 43.776 129.802 50.0053 123.487 55.808C122.463 58.1973 121.61 60.7573 120.927 63.488C120.244 66.2187 119.903 68.4373 119.903 70.144C119.903 75.4347 121.695 78.08 125.279 78.08C128.01 78.08 131.039 76.1173 134.367 72.192C137.695 68.1813 140.852 62.72 143.839 55.808C144.18 55.808 144.522 55.8933 144.863 56.064C145.204 56.1493 145.375 56.448 145.375 56.96C144.436 59.264 143.242 61.824 141.791 64.64C140.426 67.3707 138.804 69.9733 136.927 72.448C135.135 74.9227 133.044 76.9707 130.655 78.592C128.266 80.128 125.578 80.896 122.591 80.896ZM124.511 51.712C127.583 48.5547 130.57 44.928 133.471 40.832C136.372 36.6507 139.06 32.3413 141.535 27.904C144.095 23.3813 146.228 19.1147 147.935 15.104C148.532 13.824 149.002 12.416 149.343 10.88C149.77 9.34399 149.983 8.06399 149.983 7.03999C149.983 5.84533 149.684 5.24799 149.087 5.24799C148.746 5.24799 148.234 5.58932 147.551 6.27199C146.868 6.86932 145.972 7.93599 144.863 9.47199C143.242 11.6053 141.45 14.5067 139.487 18.176C137.61 21.8453 135.69 25.7707 133.727 29.952C131.764 34.1333 129.972 38.1867 128.351 42.112C126.73 45.952 125.45 49.152 124.511 51.712ZM171.601 80.896C169.638 80.896 167.889 80.3413 166.353 79.232C164.902 78.1227 164.177 75.8613 164.177 72.448C164.177 70.9973 164.262 69.632 164.433 68.352C164.689 67.072 164.988 65.7067 165.329 64.256C164.561 65.536 163.494 67.1147 162.129 68.992C160.764 70.8693 159.228 72.704 157.521 74.496C155.9 76.288 154.193 77.7813 152.401 78.976C150.694 80.1707 149.073 80.768 147.537 80.768C145.318 80.768 143.526 79.7867 142.161 77.824C140.796 75.776 140.113 73.1307 140.113 69.888C140.113 66.3893 140.924 62.6347 142.545 58.624C144.166 54.6133 146.385 50.7733 149.201 47.104C152.017 43.4347 155.26 40.448 158.929 38.144C162.598 35.84 166.438 34.688 170.449 34.688C172.412 34.688 174.289 35.0293 176.081 35.712C177.873 36.3093 179.452 37.3333 180.817 38.784C181.414 39.3813 181.713 40.064 181.713 40.832C181.713 41.344 181.5 41.7707 181.073 42.112C180.646 42.4533 180.092 42.5387 179.409 42.368C178.47 39.3813 176.465 37.888 173.393 37.888C171.942 37.888 170.278 38.3573 168.401 39.296C166.097 40.4907 163.622 42.4107 160.977 45.056C158.417 47.616 155.985 50.56 153.681 53.888C151.462 57.1307 149.628 60.416 148.177 63.744C146.726 67.072 146.001 70.1013 146.001 72.832C146.001 75.648 147.068 77.056 149.201 77.056C151.078 77.056 152.998 76.16 154.961 74.368C157.009 72.576 158.929 70.3573 160.721 67.712C162.598 64.9813 164.305 62.2933 165.841 59.648C167.377 57.0027 168.572 54.8693 169.425 53.248C170.705 50.944 171.9 49.024 173.009 47.488C174.118 45.952 175.697 45.184 177.745 45.184C178.684 45.184 179.622 45.312 180.561 45.568C181.5 45.824 182.481 45.8667 183.505 45.696C180.945 48.256 178.684 51.2853 176.721 54.784C174.844 58.2827 173.393 61.7387 172.369 65.152C171.345 68.48 170.833 71.296 170.833 73.6C170.833 76.16 171.686 77.44 173.393 77.44C174.758 77.44 176.209 76.672 177.745 75.136C179.366 73.6 180.902 71.68 182.353 69.376C183.889 66.9867 185.297 64.5973 186.577 62.208C187.857 59.7333 188.881 57.6 189.649 55.808C190.076 55.808 190.417 55.8507 190.673 55.936C191.014 56.0213 191.185 56.3627 191.185 56.96C191.1 57.3013 190.929 57.6853 190.673 58.112C190.502 58.4533 190.204 59.0933 189.777 60.032C189.094 61.3973 188.156 63.232 186.961 65.536C185.766 67.84 184.358 70.1867 182.737 72.576C181.116 74.88 179.366 76.8427 177.489 78.464C175.612 80.0853 173.649 80.896 171.601 80.896ZM193.412 80.512C192.473 80.512 191.321 80.2987 189.956 79.872C188.676 79.4453 187.524 78.6773 186.5 77.568C185.561 76.3733 185.092 74.624 185.092 72.32C185.092 70.1013 185.817 67.5413 187.268 64.64C188.719 61.7387 189.999 59.1787 191.108 56.96C190.169 56.96 189.7 56.576 189.7 55.808C189.785 55.552 190.169 54.7413 190.852 53.376C191.535 52.0107 192.345 50.3893 193.284 48.512C194.223 46.6347 195.119 44.8427 195.972 43.136C196.911 41.344 197.636 39.9787 198.148 39.04C199.172 37.1627 200.793 36.224 203.012 36.224H210.948C209.497 37.3333 208.175 38.5707 206.98 39.936C205.871 41.216 204.463 43.6053 202.756 47.104C202.756 47.104 202.457 47.7013 201.86 48.896C201.263 50.0907 200.495 51.6267 199.556 53.504C198.703 55.296 197.807 57.1307 196.868 59.008C196.015 60.8853 195.289 62.464 194.692 63.744C193.583 66.1333 192.857 68.0533 192.516 69.504C192.175 70.8693 192.004 72.1493 192.004 73.344C192.004 76.16 192.943 77.568 194.82 77.568C196.868 77.568 199.343 75.904 202.244 72.576C204.633 69.76 206.98 66.3893 209.284 62.464C211.588 58.5387 213.764 54.4853 215.812 50.304C217.945 46.1227 219.823 42.368 221.444 39.04C222.383 37.1627 224.047 36.224 226.436 36.224H233.476C231.599 37.76 229.679 40.064 227.716 43.136C225.839 46.208 223.748 50.1333 221.444 54.912C220.847 56.192 220.079 57.8133 219.14 59.776C218.201 61.7387 217.348 63.8293 216.58 66.048C215.897 68.2667 215.556 70.4853 215.556 72.704C215.556 75.6907 216.623 77.184 218.756 77.184C221.657 77.184 224.473 75.1787 227.204 71.168C229.935 67.1573 232.623 62.0373 235.268 55.808C235.951 55.808 236.335 55.8507 236.42 55.936C236.591 56.0213 236.719 56.3627 236.804 56.96C235.865 59.264 234.713 61.7813 233.348 64.512C232.068 67.1573 230.575 69.7173 228.868 72.192C227.247 74.6667 225.412 76.672 223.364 78.208C221.401 79.744 219.225 80.512 216.836 80.512C214.703 80.512 212.953 79.744 211.588 78.208C210.223 76.5867 209.54 74.3253 209.54 71.424C209.54 69.12 209.967 66.6453 210.82 64C209.369 66.56 207.705 69.12 205.828 71.68C203.951 74.24 201.945 76.3733 199.812 78.08C197.679 79.7013 195.545 80.512 193.412 80.512Z"
            ></path>
          </g>
        </svg>
        <div tw="text-white text-3.1rem leading-relaxed mr-18">${title}</div>
      </div>
    </div>
  </div>`
}
